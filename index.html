<!DOCTYPE html>
<html>
    <head>
        <title>Drum Kit - #1</title>
        <link rel="stylesheet" href="main.css">
    </head>
    <body>
        <h1>JS KeyBoard</h1>
        <div class="key-group">
            <div class="key" data-key="81">
                <kbd>q</kbd>
                <span>A</span>
            </div>
            <div class="key" data-key="87">
                <kbd>w</kbd>
                <span>B</span>
            </div>
            <div class="key" data-key="69">
                <kbd>e</kbd>
                <span>B#</span>
            </div>
            <div class="key" data-key="82">
                <kbd>r</kbd>
                <span>C</span>
            </div>
            <div class="key" data-key="84">
                <kbd>t</kbd>
                <span>C#</span>
            </div>
            <div class="key" data-key="89">
                <kbd>y</kbd>
                <span>D</span>
            </div>
            <div class="key" data-key="85">
                <kbd>u</kbd>
                <span>E</span>
            </div>
            <div class="key" data-key="73">
                <kbd>i</kbd>
                <span>E#</span>
            </div>
            <div class="key" data-key="79">
                <kbd>o</kbd>
                <span>F</span>
            </div>
            <div class="key" data-key="80">
                <kbd>p</kbd>
                <span>F#</span>
            </div>
            <div class="key" data-key="219">
                <kbd>[</kbd>
                <span>G</span>
            </div>
            <div class="key" data-key="221">
                <kbd>]</kbd>
                <span>G#</span>
            </div>
        </div>

        <h3>Made with ðŸ’– by b30wulffz</h3>

        <audio data-key="81" src="sounds/piano/a.wav"></audio>
        <audio data-key="87" src="sounds/piano/b.wav"></audio>
        <audio data-key="69" src="sounds/piano/bb.wav"></audio>
        <audio data-key="82" src="sounds/piano/c.wav"></audio>
        <audio data-key="84" src="sounds/piano/cc.wav"></audio>
        <audio data-key="89" src="sounds/piano/d.wav"></audio>
        <audio data-key="85" src="sounds/piano/e.wav"></audio>
        <audio data-key="73" src="sounds/piano/eb.wav"></audio>
        <audio data-key="79" src="sounds/piano/f.wav"></audio>
        <audio data-key="80" src="sounds/piano/ff.wav"></audio>
        <audio data-key="219" src="sounds/piano/g.wav"></audio>
        <audio data-key="221" src="sounds/piano/gg.wav"></audio>

        <script>
            function playSound(event){
                var audio= document.querySelector(`audio[data-key="${event.keyCode}"]`);
                var element= document.querySelector(`div[data-key="${event.keyCode}"]`);
                audio.currentTime = 0;
                audio.play();
                element.classList.add('playing');
                console.log(element);
            }
            function removeTransition(event) {
                if (event.propertyName !== 'transform') return;
                event.target.classList.remove('playing');
            }

            const keys = Array.from(document.querySelectorAll('.key'));
            keys.forEach(key => key.addEventListener('transitionend', removeTransition));

            window.addEventListener("keydown", playSound);
        </script>
    </body>
</html>